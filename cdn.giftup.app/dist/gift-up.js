(()=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var M=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(e,null,[{key:"AddForMessage",value:function(t){var e=window.addEventListener?"addEventListener":"attachEvent";window[e]("attachEvent"==e?"onmessage":"message",function(e){return t(e)},!1)}}]),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(e,null,[{key:"get",value:function(t){var n=t.length+1;return document.cookie.split(";").map(function(e){return e.trim()}).filter(function(e){return e.substring(0,n)==="".concat(t,"=")}).map(function(e){return decodeURIComponent(e.substring(n))})[0]||null}},{key:"delete",value:function(e){var t=new Date;t.setTime(t.getTime()+-864e5),document.cookie=e+"=; Expires="+t.toUTCString()+"; Path=/; Domain=.giftup.app;"}}]),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}s.TestModeCookieName="TestMode",s.LoggedInAsCookieName="LoggedInAs",s.CheckoutDomainOverrideCookieName="CheckoutDomainOverride",s.LoggingCookie="Log";var L,G=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(e,null,[{key:"get",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0,r="https://checkout.giftup.app/",o=s.get(s.CheckoutDomainOverrideCookieName);o&&0<o.length&&(r=o);var r={env:L.Production,checkoutUrl:r,inboundUrl:"https://inbound.giftup.app/api/",apiUrl:"https://api.giftup.app/",cdnUrl:"https://cdn.giftup.app/",cdnOriginUrl:"https://giftupblob.blob.core.windows.net/",manifestUrl:"https://cdn.giftup.app/",privateManifestUrl:"https://cdn.giftup.app/private-manifests/",devStorageOverride:""},a={env:L.Beta,checkoutUrl:"https://beta.checkout.giftup.app/",inboundUrl:"https://beta.inbound.giftup.app/api/",apiUrl:"https://beta.api.giftup.app/",cdnUrl:"https://betacdn.giftup.app/",cdnOriginUrl:"https://giftupblobbeta.blob.core.windows.net/",manifestUrl:"https://giftupblobbeta.blob.core.windows.net/",privateManifestUrl:"https://betacdn.giftup.app/private-manifests/",devStorageOverride:""},i={env:L.Development,checkoutUrl:"https://dev.giftup.app:7073/",inboundUrl:"https://dev.giftup.app:7071/api/",apiUrl:n?"https://devapi.giftup.app:".concat(n,"/"):"https://devapi.giftup.app/",cdnUrl:n?"https://dev.giftup.app:".concat(n,"/"):"https://devapi.giftup.app/",cdnOriginUrl:"https://voucherupdev.blob.core.windows.net/",manifestUrl:"https://voucherupdev.blob.core.windows.net/",privateManifestUrl:"https://development.checkout-manifest.koan.workers.dev/",devStorageOverride:t},c=L.Production;if(e&&0<e.length)switch(e.toLowerCase()){case"staging":case"beta":c=L.Beta;break;case"development":case"dev":c=L.Development}else 0<=window.location.host.indexOf("beta")?c=L.Beta:0<=window.location.host.indexOf("dev.")&&(c=L.Development);switch(c==L.Development&&t&&(i.cdnOriginUrl="https://giftupfuji".concat(t,".blob.core.windows.net/"),i.manifestUrl="https://giftupfuji".concat(t,".blob.core.windows.net/")),c==L.Development&&0<=window.location.host.indexOf("ngrok.io")&&(i.cdnUrl="https://".concat(window.location.host,"/")),c){case L.Beta:return a;case L.Development:return i}return r}}]),e}();function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(e){e.Production="Production",e.Beta="Beta",e.Development="Development"}(L=L||{});var _,B=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(e,null,[{key:"initialise",value:function(){this.initialised||G.get().env!==L.Development&&!s.get(s.LoggingCookie)||(this.enabled=!0)}},{key:"log",value:function(){var e;this.initialise(),this.enabled&&(e=this._logger).log.apply(e,arguments)}},{key:"debug",value:function(){var e;this.initialise(),this.enabled&&(e=this._logger).debug.apply(e,arguments)}},{key:"warn",value:function(){var e;this.initialise(),this.enabled&&(e=this._logger).warn.apply(e,arguments)}},{key:"trace",value:function(){var e;this.initialise(),this.enabled&&(e=this._logger).trace.apply(e,arguments)}},{key:"error",value:function(){var e;this.initialise(),this.enabled&&(e=this._logger).error.apply(e,arguments)}},{key:"groupCollapsed",value:function(){var e;this.initialise(),this.enabled&&(e=this._logger).groupCollapsed.apply(e,arguments)}},{key:"groupEnd",value:function(){this.initialise(),this.enabled&&this._logger.groupEnd()}}]),e}();function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}B._logger=window.console,B.initialised=!1,B.enabled=!1,function(l){l.Credentials=t(function e(t,n){d(this,e),this.publishableKey=t,this.connectAccount=n}),l.PaymentRequestAvailableResponse=t(function e(t,n){d(this,e),this.isAvailable=t,this.paymentRequestObject=n});var e=function(){function n(e){d(this,n),this.credentials=e;try{var t=this.credentials.connectAccount?{stripeAccount:this.credentials.connectAccount}:{};this.stripe=Stripe(this.credentials.publishableKey,t)}catch(e){B.error(e)}}return t(n,[{key:"isPaymentRequestAvailable",value:function(e){var r=this;return new Promise(function(t){void 0===r.stripe&&t(new l.PaymentRequestAvailableResponse(!1,void 0));try{var n=r.stripe.paymentRequest(e);n.canMakePayment().then(function(e){t(e?new l.PaymentRequestAvailableResponse(!0,n):new l.PaymentRequestAvailableResponse(!1,void 0))}).catch(function(){t(new l.PaymentRequestAvailableResponse(!1,void 0))})}catch(e){B.error("paymentRequest.canMakePayment() failed. "+e),t(new l.PaymentRequestAvailableResponse(!1,void 0))}})}},{key:"attachEventHandlers",value:function(e,t,n,r){var o={paymentMethodId:"",error:!1,cancelled:!1,instanceNumber:r};try{return e.on("paymentmethod",function(e){try{e.complete("success"),o.paymentMethodId=e.paymentMethod.id,o.error=!1,o.cancelled=!1,t.contentWindow.postMessage(o,n)}catch(e){B.error(e),alert("Could not pay with Apple Pay at this time, please pay with card instead."),o.paymentMethodId="",o.error=!0,o.cancelled=!1,t.contentWindow.postMessage(o,n)}}),e.on("cancel",function(){o.paymentMethodId="",o.error=!1,o.cancelled=!0,t.contentWindow.postMessage(o,n)}),!0}catch(e){return B.error(e),!1}}}]),n}();l.Service=e;function u(e){B.groupCollapsed("Message received from Gift Up! iframe"),B.debug(e.data),B.groupEnd()}l.setupApplePayOnParentWindow=function(i,c,s){!function(){return new Promise(function(e,t){var n;void 0===window.Stripe?((n=document.createElement("script")).src="https://js.stripe.com/v3/",window.document.body.appendChild(n),n.onload=function(){e(!0)},n.onabort=function(){t()}):e(!0)})}().then(function(e){var r,o,a;!1!==e&&(a={isAvailable:!1,isApplePayEnabledOnDomain:!1,instanceNumber:s},window.ApplePaySession&&function(){return new Promise(function(t){try{var n=location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")+"/",e=new Request(n+".well-known/apple-developer-merchantid-domain-association",{method:"GET"});fetch(e).then(function(e){return e.ok?(B.debug("Apple Pay is enabled on domain "+n),void t(!0)):(B.debug("Apple Pay is NOT enabled on domain "+n),void t(!1))}).catch(function(){B.debug("Apple Pay NOT enabled on domain"),t(!1)})}catch(e){B.debug("Apple Pay NOT enabled on domain"),t(!1)}})}().then(function(e){a.isApplePayEnabledOnDomain=e}).catch(function(e){B.error(e)}),B.debug("Setting up listeners for Stripe"),M.AddForMessage(function(e){var t,n;"object"===p(e.data)&&(e.data.instanceNumber==s?0!=document.body.contains(i)?((n=e.data)&&n.publishableKey&&n.paymentRequest&&(t=new l.Credentials(n.publishableKey,n.stripeAccount),r=new l.Service(t),B.debug("Asking Stripe if payment request is available"),r.isPaymentRequestAvailable(n.paymentRequest).then(function(e){a.isAvailable=e.isAvailable,o=e.paymentRequestObject,a.isAvailable&&0==r.attachEventHandlers(o,i,c,s)&&(a.isAvailable=!1),i.contentWindow.postMessage(a,c)}).catch(function(e){B.error(e),i.contentWindow.postMessage(a,c)}),u(e)),(n=e.data)&&n.takePayment&&n.paymentRequestModel&&(B.debug("Request for Apple Pay token received"),delete(n=n.paymentRequestModel).country,o.update(n),o.show(),u(e))):B.debug("Aborting message processing as iframe no longer exists on page"):B.debug("Instance numbers don't match (".concat(e.data.instanceNumber,":").concat(s,")")))}))})}}(_=_||{});var D=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(e,null,[{key:"isGoogleAnalytics4Property",value:function(e){return"g-"==e.substring(0,2).toLowerCase()}},{key:"setup",value:function(e,t){e&&0<e.length&&(this.isGoogleAnalytics4Property(e)?(window.gtag||function(e,t,n,r){n=e.createElement("script"),r=e.getElementsByTagName("script")[0],n.async=1,n.src=t,r.parentNode.insertBefore(n,r),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}}((window,document),"https://www.googletagmanager.com/gtag/js?id="+e),gtag("js",new Date),gtag("config",e),B.log("Setting up Google Analytics 4 for "+e)):(window.ga||function(e,t,n,r,o){e.GoogleAnalyticsObject=n,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=+new Date,r=t.createElement("script"),o=t.getElementsByTagName("script")[0],r.async=1,r.src="//www.google-analytics.com/analytics.js",o.parentNode.insertBefore(r,o)}(window,document,"ga"),ga("create",e,"auto","giftup"),t?ga("giftup.require","ec"):ga("giftup.require","ecommerce"),B.log("Setting up Google's Universal Analytics for "+e)))}},{key:"track",value:function(n,e,t){if(e&&0<e.length)if(window.gtag&&this.isGoogleAnalytics4Property(e)){var r={currency:n.currency,transaction_id:n.orderId,affiliation:"Gift Up",value:n.revenue,items:[]};n.giftCards.forEach(function(e){var t={item_name:e.item,quantity:1,price:e.price,currency:n.currency};e.sku&&(t.item_id=e.sku),r.items.push(t)}),gtag("event","purchase",r),B.groupCollapsed("Tracking conversion in Google Analytics 4"),B.log(r),B.groupEnd()}else if(window.ga){if(t){B.groupCollapsed("Tracking enhanced ecommerce conversion in Google Analytics");for(var o=n.giftCards,a=0;a<o.length;a++){var i=o[a],i={name:i.item,price:i.price,quantity:"1",position:a+1};B.log(i),ga("giftup.ec:addProduct",i)}var c={id:n.orderId,affiliation:"Gift Up!",revenue:n.revenue.toString(),shipping:"0",tax:"0"};B.log(c),ga("giftup.ec:setAction","purchase",c),ga("giftup.send","pageview")}else{B.groupCollapsed("Tracking ecommerce conversion in Google Analytics");c={id:n.orderId,affiliation:"Gift Up!",revenue:n.revenue.toString(),shipping:"0",tax:"0",currency:n.currency.toUpperCase()};B.log(c),ga("giftup.ecommerce:addTransaction",c);for(var s=n.giftCards,l=0;l<s.length;l++){var u=s[l],u={id:n.orderId,name:u.item,sku:u.code,price:u.price,quantity:"1",currency:n.currency.toUpperCase()};B.log(u),ga("giftup.ecommerce:addItem",u)}ga("giftup.ecommerce:send")}B.groupEnd()}}}]),e}();function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var F=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(e,null,[{key:"setup",value:function(e){e&&0<e.length&&(function(e,t,n,r,o){e.fbq||(n=e.fbq=function(){n.callMethod?n.callMethod.apply(n,arguments):n.queue.push(arguments)},e._fbq||(e._fbq=n),(n.push=n).loaded=!0,n.version="2.0",n.queue=[],(r=t.createElement("script")).async=!0,r.src="https://connect.facebook.net/en_US/fbevents.js",(o=t.getElementsByTagName("script")[0]).parentNode.insertBefore(r,o))}(window,document),fbq("init",e),B.log("Setting up FacebookPixelTracker for "+e))}},{key:"track",value:function(e,t){var n;window.fbq&&t&&0<t.length&&((n={}).currency=e.currency,n.value=e.revenue,n.contents=[],e.giftCards.forEach(function(e){n.contents.push({id:e.code,quantity:1,item_price:e.price})}),n.content_type="product",n.content_category="giftup",n.content_ids=[e.giftCards[0].item],fbq("trackSingle",t,"Purchase",n),B.groupCollapsed("Tracking conversion in Facebook"),B.log(t),B.log(n),B.groupEnd())}}]),e}();function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var H=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(e,null,[{key:"setup",value:function(e){e&&0<e.length&&(function(){var e,t;window.pintrk||(window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))},(t=window.pintrk).queue=[],t.version="3.0",(e=document.createElement("script")).async=!0,e.src="https://s.pinimg.com/ct/core.js",(t=document.getElementsByTagName("script")[0]).parentNode.insertBefore(e,t))}(),pintrk("load",e),B.log("Setting up PinterestTracker for "+e))}},{key:"track",value:function(e,t){var n;window.pintrk&&t&&0<t.length&&((n={}).value=e.revenue,n.order_quantity=e.giftCards.length,n.currency=e.currency,n.line_items=[],e.giftCards.forEach(function(e){n.line_items.push({product_id:e.code,product_name:e.item,product_quantity:1,product_price:e.price})}),pintrk("track","checkout",n),B.groupCollapsed("Tracking conversion in Pinterest"),B.log(t),B.log(n),B.groupEnd())}}]),e}();function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var W=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(e,null,[{key:"setup",value:function(e){!window.twq&&e&&0<e.length&&(function(e,t,n,r,o){e.twq||((n=e.twq=function(){n.exe?n.exe.apply(n,arguments):n.queue.push(arguments)}).version="1.1",n.queue=[],(r=t.createElement("script")).async=!0,r.src="//static.ads-twitter.com/uwt.js",(o=t.getElementsByTagName("script")[0]).parentNode.insertBefore(r,o))}(window,document),twq("init",e),B.log("Setting up TwitterPixelTracker for "+e))}},{key:"track",value:function(e,t){var n;window.twq&&t&&0<t.length&&((n={}).currency=e.currency,n.value=e.revenue,n.num_items=e.giftCards.length,n.order_id=e.orderId,twq("track","Purchase",n),B.groupCollapsed("Tracking conversion in Twitter"),B.log(t),B.log(n),B.groupEnd())}}]),e}();function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var V,K=function(){function e(){n(this,e)}return m(e,null,[{key:"setup",value:function(e){var o;e&&0<e.length&&(o=this.parseConversionString(e),window.gtag?gtag("config",o.conversionId):function(e,t,n,r){n=e.createElement("script"),r=e.getElementsByTagName("script")[0],n.async=1,n.src=t,r.parentNode.insertBefore(n,r),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},gtag("js",new Date),gtag("config",o.conversionId)}((window,document),"https://www.googletagmanager.com/gtag/js?id="+o.conversionId),B.log("Setting up GoogleAdsTracker for "+e))}},{key:"track",value:function(e,t){var n;t&&0<t.length&&(e={send_to:(n=this.parseConversionString(t)).conversionId+"/"+n.conversionLabel,value:e.revenue,currency:e.currency,transaction_id:e.orderId},gtag("event","conversion",e),B.groupCollapsed("Tracking conversion in Google Ads"),B.log(t),B.log(e),B.groupEnd())}},{key:"parseConversionString",value:function(e){var t=new v;if(e&&0<e.length){if(0<e.indexOf("/")){var n=e.split("/");return t.conversionId=n[0],t.conversionLabel=n[1],t.conversionId&&"aw-"!=t.conversionId.substring(0,3).toLowerCase()&&(t.conversionId="AW-"+t.conversionId),t}t.conversionId=e}return t}}]),e}(),v=m(function e(){n(this,e)});function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(){(V||(V={})).AddFooterLinks=function(e,t,n,r){if(!t.company||!t.company.adFree){var o=document.createElement("div"),a=document.createElement("a"),t=document.createElement("img");if(document.getElementById("gift-up-logo-text"))for(o=document.getElementById("gift-up-logo-text");o.firstChild;)o.removeChild(o.firstChild);o.id="gift-up-logo-text",o.style.setProperty("display","block","important"),o.style.setProperty("visibility","visible","important"),o.style.setProperty("text-align","center","important"),o.style.setProperty("font-size","14px","important"),o.style.setProperty("line-height","1.3em","important"),o.style.setProperty("opacity","0.8","important"),o.style.setProperty("margin","0","important"),o.style.setProperty("padding","0","important"),o.style.setProperty("position","static","important"),a.href="https://www.giftup.com/?utm_source=branding&utm_medium=web",a.target="_blank",a.style.setProperty("display","inline-block","important"),a.style.setProperty("visibility","visible","important"),a.style.setProperty("font-family","sans-serif","important"),a.style.setProperty("color","#777","important"),a.style.setProperty("text-decoration","none","important"),a.style.setProperty("box-shadow","none","important"),a.style.setProperty("border-width","0","important"),a.style.setProperty("opacity","1","important"),a.style.setProperty("margin","0 0 1rem 0","important"),a.style.setProperty("padding","0","important"),a.style.setProperty("position","static","important"),a.style.setProperty("line-height","1.25","important"),t.src=r+"cdn-assets/logo-greyscale.png",t.width=100,t.title="Gift Up!",t.alt="Gift Up!",t.style.setProperty("display","block","important"),t.style.setProperty("visibility","visible","important"),t.style.setProperty("opacity","1","important"),t.style.setProperty("width","100px","important"),t.style.setProperty("max-width","100px","important"),t.style.setProperty("padding","0","important"),t.style.setProperty("margin","0 auto 10px auto","important"),t.style.setProperty("background","none","important"),t.style.setProperty("box-shadow","none","important"),t.style.setProperty("position","static","important"),t.style.setProperty("border-width","0px","important"),a.appendChild(t),a.insertAdjacentHTML("beforeend",i(n)),o.appendChild(a),e.appendChild(o)}};var i=function(e){var t="The simplest way to sell your<br>business' gift vouchers online";switch(e){case"en-US":case"en-CA":t="The simplest way to sell your business'<br>gift cards & certificates online";break;case"fr-FR":t="Des chèques-cadeaux et des cartes-cadeaux pour votre site web";break;case"lv-LV":t="Tiešsaistes dāvanu kartes jūsu vietnei";break;case"de-DE":t="Sofortige Geschenkgutscheine & Geschenkkarten für Ihre Webseite";break;case"es-ES":case"es-MX":t="Vales de regalo instantáneos y tarjetas de regalo para su sitio web";break;case"da-DK":t="Hurtige gavebeviser og gavekort til din hjemmeside";break;case"no-NO":t="Umiddelbare gavekort til ditt nettsted";break;case"it-IT":t="Certificati regalo istantanei e buoni acquisto per il tuo sito web";break;case"sv-SE":t="Gåvobevis & gåvokort till din webbsida på direkten";break;case"fi-FI":t="Lahjasertifikaatteja ja lahjakortteja internetsivustollesi nopeasti";break;case"pt-PT":case"pt-BR":t="Certificados-presente e cartões-presente instantâneos para o seu website";break;case"nl-NL":t="Cadeaubonnen en cadeaukaarten voor uw website";break;case"hu-HU":t="Azonnali ajándékkártyák weboldaladra";break;case"bg-BG":t="Незабавни картички-подарък за вашия сайт";break;case"ru-RU":t="Мгновенные подарочные карты для вашего веб-сайта ";break;case"sr-BA":t="Trenutne poklon kartice za Vašu veb prezentaciju";break;case"sk-SK":t="Okamžité darčekové poukážky pre vaše webové stránky";break;case"ru-RO":t="Carduri cadou instant pentru websiteul tău";break;case"pl-PL":t="Karty podarunkowe dla twojej strony internetowej dostępne natychmiast";break;case"cs-CZ":t="Okamžité dárkové karty pro Vaši stránku";break;case"uk-UA":t="Миттєві подарункові картки для вашого сайту";break;case"lt-LT":t="Paprasčiausias būdas parduoti savo verslo dovanų korteles internetu"}return t}}();var z=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(e,null,[{key:"setup",value:function(e){e&&0<e.length&&B.log("Setting up OrderPlacedRedirectTracker for "+e)}},{key:"track",value:function(e,t){if(t&&0<t.length){if(B.groupCollapsed("Tracking conversion in OrderPlacedRedirectTracker"),e.isOfflinePayment)return B.log("Aborting redirect as offline payment"),void B.groupEnd();var n=this.buildRedirectUrl(e,t);B.log("Redirecting to "+n),B.groupEnd(),setTimeout(function(){try{try{window.top.location.href=n}catch(e){window.parent.location.href=n}}catch(e){location.href=n}},1e3)}}},{key:"buildRedirectUrl",value:function(e,t){t=t.replace("{{orderid}}",e.orderId);t=(t=t.replace("{{currency}}",e.currency.toUpperCase())).replace("{{revenue}}",e.revenue.toString());for(var n="",r="",o="",a=e.giftCards,i=0;i<e.giftCards.length;i++){var c=a[i];n+=c.code,r+=c.sku,o+=c.item,i<a.length-1&&(n+=",",o+=",",r+=",")}return t=(t=(t=t.replace("{{code}}",n)).replace("{{sku}}",r)).replace("{{name}}",o)}}]),e}();function b(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,t=function(){};return{s:t,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw o}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var J=function(){function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s)}return function(e,t,n){t&&k(e.prototype,t),n&&k(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(s,null,[{key:"init",value:function(){var e=window.giftup;if(e){var t=e.q;if(t)for(var n=0;n<t.length;n++){var r=t[n];2==r.length&&s.register(r[0],r[1]),3==r.length&&s.register(r[0],r[1],r[2])}}window.giftup=s.register}},{key:"register",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;switch(e){case"conversion":case"load":case"manifest":case"page":case"resize":s.registerEvent(e,t);break;case"language":s.registerLanguage(t,n);break;default:B.error("".concat(e," is not supported"))}}},{key:"registerIFrame",value:function(e,t){s.iframes.set(e,t);var n,r=b(s.languageOverrides);try{for(r.s();!(n=r.n()).done;){var o=n.value,a=o[0],i=o[1];try{var c={key:"language",language:a,value:i,instanceNumber:e};t.contentWindow.postMessage(c,"*")}catch(e){}}}catch(e){r.e(e)}finally{r.f()}}},{key:"registerEvent",value:function(e,t){var n;t&&"function"==typeof t&&((n=s.eventTrackers[e])?n.push(t):s.eventTrackers[e]=[t])}},{key:"registerLanguage",value:function(e,t){s.languageOverrides.set(e,t);var n,r=b(s.iframes);try{for(r.s();!(n=r.n()).done;){var o=n.value,a=o[0],i=o[1];try{var c={key:"language",language:e,value:t,instanceNumber:a};i.contentWindow.postMessage(c,"*")}catch(e){}}}catch(e){r.e(e)}finally{r.f()}}},{key:"fireEvent",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0;if(this.eventTrackers){var n=s.eventTrackers[e];if(n)for(var r=0;r<n.length;r++)n[r](t)}}}]),s}();function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}J.eventTrackers=[],J.languageOverrides=new Map,J.iframes=new Map;function P(){var e=Array.prototype.slice.call(document.getElementsByClassName("gift-up-target"));if(0==e.length){var t=document.getElementById("gift-up-target");if(!(t=t||document.getElementById("voucher-up-target")))return[];e.push(t)}if(0==e.length)return[];for(var n=[],r=0;r<e.length;r++){for(var o=e[r],a=o.childNodes,i=!1,c=0;c<a.length;c++)if("iframe"==a[c].nodeName.toLowerCase()){i=!0;break}!1===i&&n.push(o)}return n}function C(a,i){var c,e=a.getAttribute("data-site-id"),t=a.getAttribute("data-storage-modifier"),n=a.getAttribute("data-port-modifier"),r=a.getAttribute("data-environment")||"producton",s=a.getAttribute("data-giftup-language")?a.getAttribute("data-giftup-language"):a.getAttribute("data-language"),o="true"===a.getAttribute("data-dnt"),l="true"===a.getAttribute("data-hosted-checkout"),u=a.getAttribute("data-test-token"),p="true"===a.getAttribute("data-preview-mode"),d=a.getAttribute("data-product-id"),g=a.getAttribute("data-group-id"),f=a.getAttribute("data-custom-value-amount"),y=a.getAttribute("data-platform"),m=a.getAttribute("data-step"),v=a.getAttribute("data-who-for"),h=a.getAttribute("data-purchaser-name"),b=a.getAttribute("data-recipient-name"),w=a.getAttribute("data-purchaser-email"),k=a.getAttribute("data-recipient-email"),P=a.getAttribute("data-optional-message"),C=a.getAttribute("data-promo-code"),A="true"===a.getAttribute("data-hide-artwork"),E="true"===a.getAttribute("data-hide-custom-value"),U="true"===a.getAttribute("data-hide-google-fonts"),O="true"===a.getAttribute("data-hide-groups"),I="true"===a.getAttribute("data-hide-ungrouped-items"),T=a.getAttribute("data-manifest-url"),j=a.getAttribute("data-override-artwork-url"),S=G.get(r,t,n),y=y&&0<y.length?y:"",q=S.cdnUrl,r="";if(t&&(r="&storage=".concat(t)),e&&0<e.length){var R=document.createElement("iframe"),r="".concat(q,"dist/checkout.html?site=").concat(e,"&environment=").concat(L[S.env]).concat(r);window.localStorage&&window.localStorage.getItem("giftup-debug")&&(r="https://127.0.0.1/dist/checkout.html?site=".concat(e,"&environment=Production")),n&&(r+="&port=".concat(n)),s&&(r+="&language=".concat(s)),u&&(r+="&testModeToken=".concat(encodeURIComponent(u))),p&&(r+="&previewMode=true"),d&&(r+="&productId=".concat(d)),g&&(r+="&groupId=".concat(g)),f&&(r+="&customValueAmount=".concat(f)),l&&(r+="&hosted=true"),m&&(r+="&step=".concat(m.toLowerCase())),v&&(r+="&for=".concat(v.toLowerCase())),h&&(r+="&purchaserName=".concat(encodeURIComponent(h))),b&&(r+="&recipientName=".concat(encodeURIComponent(b))),w&&(r+="&purchaserEmail=".concat(encodeURIComponent(w))),k&&(r+="&recipientEmail=".concat(encodeURIComponent(k))),P&&(r+="&optionalMessage=".concat(encodeURIComponent(P))),C&&(r+="&promoCode=".concat(encodeURIComponent(C))),A&&(r+="&hideArtwork=true"),E&&(r+="&hideCustomValue=true"),U&&(r+="&hideGoogleFonts=true"),O&&(r+="&hideGroups=true"),I&&(r+="&hideUngroupedItems=true"),T&&(r+="&manifestUrl=".concat(encodeURIComponent(T))),j&&(r+="&overrideArtworkUrl=".concat(encodeURIComponent(j))),r+="&instance=".concat(i),R.src=r,R.frameBorder="0",R.width="100%",R.height="2000px",R.id="gift-up-iframe",R.setAttribute("name",i),R.style.setProperty("position","relative","important"),R.style.setProperty("visibility","visible","important"),R.style.setProperty("display","block","important"),R.style.setProperty("float","none","important"),R.style.setProperty("min-height","inherit","important"),R.style.setProperty("max-height","inherit","important"),R.style.setProperty("height","2000px","important"),R.style.setProperty("width","100%","important"),R.allowPaymentRequest=!0;try{for(;a.firstChild;)a.removeChild(a.firstChild)}catch(e){B.warn("Could not clear Gift Up! target before hydration")}Q(R),a.appendChild(R);var N=function(e){try{if(0==$(R))return;var t=document.body.getBoundingClientRect(),n=R.getBoundingClientRect(),r=n.top-t.top;e&&0<e&&(r+=e),n.top<0-e&&window.scrollTo(0,r)}catch(e){B.debug("Could not scroll Gift Up! page into view")}};if(R.onload=function(){N(0)},M.AddForMessage(function(e){function t(e){B.groupCollapsed("Message received from Gift Up! iframe"),B.debug(e),B.groupEnd()}if(t(e),e.data.ready&&e.data.instanceNumber==i)J.registerIFrame(i,R);else{if("string"==typeof e.data&&"{"===e.data.charAt(0)&&(0<=e.origin.indexOf("giftup.app")||S.env==L.Development)){if(0==$(R))return;var n=JSON.parse(e.data);if(n.instanceNumber!=i)return;if(n.iframeHeight){var r=parseInt(n.iframeHeight),n=r+25+"px";return R.dataset.giftUpHeight=n,R.style.setProperty("height",n,"important"),void J.fireEvent("resize",{height:r})}}if("object"===X(e.data)&&(0<=e.origin.indexOf("giftup.app")||S.env==L.Development)&&e.data.instanceNumber==i){e=e.data;if(e.manifest){c=e.manifest,t(e);var o="en-GB";return c.style&&c.style.language&&0<c.style.language.length&&(o=c.style.language),V.AddFooterLinks(a,c,o=s?s:o,S.cdnUrl),c.paymentProviders&&c.paymentProviders.hasStripe&&_.setupApplePayOnParentWindow(R,q,i),D.setup(c.trackers.googleAnalyticsPropertyId,c.trackers.googleAnalyticsEnhancedEcommerce),F.setup(c.trackers.facebookPixelId),H.setup(c.trackers.pinterestPixelId),W.setup(c.trackers.twitterPixelId),K.setup(c.trackers.googleAdsConversionId),void z.setup(c.trackers.orderPlacedRedirectUrl)}if(e.loaded)return B.debug("Gift Up! checkout loaded"),J.fireEvent("load"),void J.fireEvent("manifest",c);if(e.pageChangedTo)return B.debug("Gift Up! checkout page changed to "+e.pageChangedTo),void J.fireEvent("page",e.pageChangedTo);if(e.scrollCheckoutIntoView)N(e.scrollCheckoutIntoView);else{o=e;if(o&&o.orderId)return J.fireEvent("conversion",o),D.track(o,c.trackers.googleAnalyticsPropertyId,c.trackers.googleAnalyticsEnhancedEcommerce),F.track(o,c.trackers.facebookPixelId),H.track(o,c.trackers.pinterestPixelId),W.track(o,c.trackers.twitterPixelId),K.track(o,c.trackers.googleAdsConversionId),void z.track(o,c.trackers.orderPlacedRedirectUrl);0!=$(R)&&e&&e.language&&(V.AddFooterLinks(a,c,e.language,S.cdnUrl),t(e))}}}}),!o&&!u)try{var x=l?document.referrer:"";if(!x)try{x=window.top.location.href}catch(e){x=window.location.href}x&&0<=x.indexOf("giftup.app")&&(x=""),Z(S.inboundUrl,e,y,x)}catch(e){B.warn(e)}}}var A,E=function(){try{var e=P();if(0==e.length)return;for(var t=0;t<e.length;t++){var n=Math.random().toString(36).substring(2,15);B.groupCollapsed("Installing checkout"),B.log("Id: ".concat(n)),B.log(e[t]),B.groupEnd(),C(e[t],n)}U&&clearTimeout(U)}catch(e){B.log("Error loading Gift Up!"),B.log(e);try{var r=P();if(0==r.length)return;var o=document.createComment("We had a problem loading Gift Up! and cannot take orders for gift cards at the moment. "+e.message);r[0].appendChild(o)}catch(e){}}},Z=function(e,t,n,r){fetch&&(r="".concat(e,"company/record-checkout-visit/").concat(encodeURIComponent(t),"?platform=").concat(encodeURIComponent(n),"&referer=").concat(encodeURIComponent(r)),fetch(r,{method:"POST"}).then(function(){},function(){}).catch(function(){}))},$=function(e){return document.body.contains(e)},Q=function(n){window.MutationObserver&&new MutationObserver(function(e){try{for(var t=0;t<e.length;t++)n.dataset.giftUpHeight&&n.style.height!=n.dataset.giftUpHeight&&(B.log("Changing iframe height back to "+n.dataset.giftUpHeight),n.style.setProperty("height",n.dataset.giftUpHeight,"important"),n.style.setProperty("width","100%","important"))}catch(e){}}).observe(n,{attributes:!0,attributeFilter:["style"]})},U=setTimeout(E,500);E(),document.addEventListener("DOMContentLoaded",function(){E()}),J.init(),window.MutationObserver&&document.body&&(A=function e(t){if(t.className&&"string"==typeof t.className&&0<=t.className.indexOf("gift-up-target"))E();else if(t.hasChildNodes())for(var n=0;n<t.childNodes.length;n++)e(t.childNodes[n])},new MutationObserver(function(e){try{for(var t=0;t<e.length;t++){var n=e[t];if("childList"==n.type&&n.addedNodes)for(var r=0;r<n.addedNodes.length;r++){var o=n.addedNodes[r];A(o)}}}catch(e){}}).observe(document.body,{childList:!0,attributes:!1,characterData:!1,subtree:!0,attributeOldValue:!1,characterDataOldValue:!1}))})();